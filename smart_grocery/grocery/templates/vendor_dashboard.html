<!DOCTYPE html>
<html>
<head>
    <title>Vendor Dashboard</title>
</head>
<body>
    <h1>Welcome to the Vendor Dashboard</h1>
    <!-- Only show the content if the user is authenticated -->
    {% if user.is_authenticated %}
    <ul>
        <li><a href="{% url 'home' %}">Home</a></li>
        <li><a href="{% url 'logout' %}">Logout</a></li>
    </ul>
     
    <!-- Display the total count of products and orders -->
    <h2>Products</h2>
    <p>Number of Products: {{ product_count }}</p>
    <ul>
        {% for product in vendor_products %}
        <li>{{ product.name }} - {{ product.stock }} in stock</li>
        {% empty %}
        <li>No products found.</li>
        {% endfor %}
    </ul>
    
    <h2>Orders</h2>
    <p>Number of Orders: {{ orders.count }}</p>

    {% if orders %}
        <ul>
            {% for order in orders %}
                <li>{{ order.product.name }} - {{ order.status }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No orders found.</p>
    {% endif %}
 
    <!-- Manage Products Section -->
    <h2>Manage Products</h2>
    <a href="{% url 'add_product' %}">Add Product</a>
    <ul>
        {% for product in vendor_products %}
        <li>{{ product.name }} - 
            <a href="{% url 'update_product' product.id %}">Update</a> | 
            <a href="{% url 'delete_product' product.id %}">Delete</a>
        </li>
        {% empty %}
        <li>No products to manage.</li>
        {% endfor %}
    </ul>

    {% else %}
    <p>You need to <a href="{% url 'login' %}">log in</a> to access this page.</p>
    {% endif %}
</body>
</html>
